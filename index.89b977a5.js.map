{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,uCA6DAC,EAAAC,QAAQC,iBAAiB,UAvDlBC,eAAsCC,GAC3CA,EAAEC,iBACF,IAAIC,EAAQF,EAAEG,OAAOC,SAAS,gBAAgBC,MAAMC,OAEpD,GADAV,EAAAW,WAAWC,UAAY,IAClBN,EAAMO,OAGT,YAFAb,EAAAc,UAAUC,YACR,4EAKJ,MAAMC,QAAiB,EAAAlB,EAAAmB,iBAAgBX,IACjCY,QAAEA,EAAOC,YAAEA,GAAgBH,EAC5BE,EAAQL,SACXb,EAAAc,UAAUC,YACR,8EAEJ,EAAAK,EAAAC,QAAOH,GAEY,IAAII,EAAAC,GAAJ,CAAevB,EAAAwB,UAAW,CAC3CC,WAAYN,EAAc,IAAM,IAAMA,EACtCO,aAAc,EACdC,aAAc,EACdC,aAAa,EACbC,KAAM,EACNC,SAAU,CACRD,KAAM,gDACNE,YACE,iEACFC,WACE,mGAGFC,mBACE,gHAGFC,WACE,4GAMKC,GAAG,aAAahC,MAAMiC,IAC/B,IAAIL,EAAcK,EAAMP,KACxB,MAAMX,QAAEA,SAAkB,EAAApB,EAAAmB,iBAAgBX,EAAOyB,IACjD,EAAAX,EAAAC,QAAOH,GACPmB,OAAOC,SAAS,CACdC,IAAK,EACLC,SAAU,UACZ,GAEJ","sources":["src/scripts/header.js"],"sourcesContent":["import { fetchSearchFilm } from './fetch';\nimport { render } from './gallery';\nimport { container, formRef, galleryRef, notifyRef } from './refs';\nimport Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\n\nexport async function handleSearchFormSubmit(e) {\n  e.preventDefault();\n  let query = e.target.elements['search-input'].value.trim();\n  galleryRef.innerHTML = '';\n  if (!query.length) {\n    notifyRef.textContent =\n      'Search result not successful. Enter the correct movie name and try again';\n    return;\n  }\n\n  // notifyRef.textContent = '';\n  const response = await fetchSearchFilm(query);\n  const { results, total_pages } = response;\n  if (!results.length) {\n    notifyRef.textContent =\n      ' Search result not successful. Enter the correct movie name and try again';\n  }\n  render(results);\n\n  const instance_2 = new Pagination(container, {\n    totalItems: total_pages > 500 ? 500 : total_pages,\n    itemsPerPage: 1,\n    visiblePages: 5,\n    centerAlign: true,\n    page: 1,\n    template: {\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n      currentPage:\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n      moveButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</a>',\n      disabledMoveButton:\n        '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</span>',\n      moreButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip dots\">...</span>' +\n        '</a>',\n    },\n  });\n\n  instance_2.on('afterMove', async event => {\n    let currentPage = event.page;\n    const { results } = await fetchSearchFilm(query, currentPage);\n    render(results);\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  });\n}\n\nformRef.addEventListener('submit', handleSearchFormSubmit);\n"],"names":["$ncrjo","parcelRequire","$1O3u4","formRef","addEventListener","async","e","preventDefault","query","target","elements","value","trim","galleryRef","innerHTML","length","notifyRef","textContent","response","fetchSearchFilm","results","total_pages","$2zNys","render","$parcel$interopDefault","$fb9GJ","container","totalItems","itemsPerPage","visiblePages","centerAlign","page","template","currentPage","moveButton","disabledMoveButton","moreButton","on","event","window","scrollTo","top","behavior"],"version":3,"file":"index.89b977a5.js.map"}